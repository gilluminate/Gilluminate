<!DOCTYPE html>
<html lang="en-US" class="no-js">
	
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		
		<title>
			   Host Your Own Custom WordPress Plugin Auto-Updater | Gilluminate - By Jason Gill 
		</title>
				
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
				
		
		

		
		
		
  		
  		<link rel="stylesheet/less" type="text/css" href="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/less/bootstrap.less">
  		<link rel="stylesheet/less" type="text/css" href="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/less/responsive.less">

		
		
<link rel="stylesheet" id="wp-block-library-css" href="https://gilluminate.com/inc/css/dist/block-library/style.min.css?ver=5.5.1" type="text/css" media="all">
<link rel="stylesheet" id="wp-syntax-css-css" href="https://gilluminate.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.1" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-css" href="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/library/css/bootstrap.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-responsive-css" href="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/library/css/responsive.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="wp-bootstrap-css" href="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/style.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="fancybox-css" href="https://gilluminate.com/wp-content/plugins/easy-fancybox/css/jquery.fancybox.min.css?ver=1.3.24" type="text/css" media="screen">
<script type="text/javascript" src="https://gilluminate.com/inc/js/jquery/jquery.js?ver=1.12.4-wp" id="jquery-core-js"></script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/library/js/bootstrap.min.js?ver=1.2" id="bootstrap-js"></script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/library/js/scripts.js?ver=1.2" id="wpbs-scripts-js"></script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/themes/wordpress-bootstrap/library/js/modernizr.full.min.js?ver=1.2" id="modernizr-js"></script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.5.4" id="ga-external-tracking-js"></script>
<link rel="alternate" type="application/json" href="https://gilluminate.com/wp-json/wp/v2/posts/6361"><link rel="canonical" href="https://gilluminate.com/2011/12/23/host-your-own-custom-wordpress-plugin-updater/">

<link rel="alternate" type="application/json+oembed" href="https://gilluminate.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fgilluminate.com%2F2011%2F12%2F23%2Fhost-your-own-custom-wordpress-plugin-updater%2F">
<link rel="alternate" type="text/xml+oembed" href="https://gilluminate.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fgilluminate.com%2F2011%2F12%2F23%2Fhost-your-own-custom-wordpress-plugin-updater%2F&amp;format=xml">
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
	
<script type="text/javascript">
    var analyticsFileTypes = [''];
    var analyticsSnippet = 'disabled';
    var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-73622-1', 'auto');
 
	ga('send', 'pageview');
</script>
		

		
		<style>
        #main article {
          border-bottom: none;
        }
        </style>		
				<link rel="stylesheet" href="https://gilluminate.com/wp-content/themes/gilluminate-bootstrap/style.css" type="text/css" media="screen">
		
			</head>
	
	<body class="post-template-default single single-post postid-6361 single-format-standard custom-background">
				
		<header role="banner">
		
			<div id="inner-header" class="clearfix">
				
				<div class="navbar navbar-fixed-top">
					<div class="navbar-inner">
						<div class="container-fluid nav-container">
							<nav role="navigation">
								<a class="brand" id="logo" title="By Jason Gill" href="https://gilluminate.com">Gilluminate</a>
								
								<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							        <span class="icon-bar"></span>
							        <span class="icon-bar"></span>
							        <span class="icon-bar"></span>
								</a>
								
								<div class="nav-collapse">
									<ul id="menu-top-menu" class="nav"><li id="menu-item-6569" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent"><a href="https://gilluminate.com/developer-blog/">Developer Blog</a></li>
</ul>								</div>
								
							</nav>
							
														
						</div>
					</div>
				</div>
			
			</div> 
		
		</header> 
		
		<div class="container-fluid">
			
			<div id="content" class="clearfix row-fluid">
			
				<div id="main" class="span8 clearfix" role="main">

										
					<article id="post-6361" class="clearfix post-6361 post type-post status-publish format-standard hentry category-tech tag-php tag-plugins tag-private tag-wordpress" role="article" itemscope itemtype="http://schema.org/BlogPosting">
						
						<header>
						
														
							<div class="page-header"><h1 class="single-title" itemprop="headline">Host Your Own Custom WordPress Plugin Auto-Updater</h1></div>
							
							<p class="meta">Posted <time datetime="2011-12-23" pubdate>December 23, 2011</time> by <a href="https://gilluminate.com/author/petethechop/" title="Posts by Jason Gill" rel="author">Jason Gill</a> <span class="amp">&amp;</span> filed under <a href="https://gilluminate.com/topic/tech/" rel="category tag">Developer Blog</a>.</p>
						
						</header> 
					
						<section class="post_content clearfix" itemprop="articleBody">
							<div class="alert alert-block">
<h4>Update</h4>
<p class="lead">  It looks like there is a fully fledged plugin for accomplishing this feat for both plugins and themes. I recommend using it instead of this hack:<br>
  <a href="https://github.com/jeremyclark13/automatic-theme-plugin-update">https://github.com/jeremyclark13/automatic-theme-plugin-update</a>
</p></div>
<h2>The Problem</h2>
<p><a href="https://gilluminate.com/wp-content/uploads/wordpress_plugins_screenshot.jpg"><img loading="lazy" class="alignright size-thumbnail wp-image-6364" src="https://gilluminate.com/wp-content/uploads/wordpress_plugins_screenshot-150x114.jpg" alt="WordPress Plugins" width="150" height="114" srcset="https://gilluminate.com/wp-content/uploads/wordpress_plugins_screenshot-150x114.jpg 150w,https://gilluminate.com/wp-content/uploads/wordpress_plugins_screenshot-300x229.jpg 300w,https://gilluminate.com/wp-content/uploads/wordpress_plugins_screenshot.jpg 500w" sizes="(max-width: 150px) 100vw, 150px"></a>The biggest appeal WordPress has is it&rsquo;s extensibility via plugins. But if you create a private plugin for personal use or for a corporation with a very specific purpose, you may not want to go through the process of having it submitted, approved, and available for the world on the <a href="http://wordpress.org/extend/plugins/">WordPress Plugin repository</a>. So what&rsquo;s wrong with just hosting your plugin .zip file and providing a link for convenient access? One answer: updates.</p>
<p>When a plugin is installed via the official repository, it will automatically make a call back periodically and check for updates. If updates are available, it will alert the user and provide a link to &ldquo;update automatically.&rdquo; With a home-grown private plugin, or a plugin kept out of the official repo. for whatever reason, there is no such lookup and link available. Until now!</p>
<p>(Note: In my testing, this only works on Multisite if the plugin is activated for the entire network.)</p>
<h2>Don&rsquo;t You Just Love Open Source?</h2>
<p>The wonderful thing about Open Source products like WordPress, is that you can see how things are working, and make your own solutions for issues like the scenario described above. After a lot of tinkering and investigation I came up with a really easy and simple solution with just 3 easy steps.</p>
<h5><strong>Step 1:</strong> Host an update file.</h5>
<p>Create a plain-text file that contains 2 parts. The first part contains the current version number of your plugin, the second part contains the URL of where your plugin .zip file can be downloaded from. Separate these parts from each other using a simple pipe. Like this:</p>
<p><code>1.2.3|http://www.mycustomrepository.com/plugins/myplugin-1.2.3.zip</code></p>
<p>Now you need to host this file somewhere accessible by WordPress. My recomendation is to include this file right within your plugin folder prior to compressing it, and host the folder along side your .zip file. So the URL for the update file in our example above might be:</p>
<p><code>http://www.mycustomrepository.com/plugins/myplugin/myplugin.chk</code></p>
<p>Notice that I added a .chk extension on the filename. The extension does not matter here, just as long as the file is saved out as plain text. Using .chk just makes it easy to distinguish. It could just as well be .txt or whatever you want.</p>
<h5><strong>Step 2:</strong> Include update checker</h5>
<p>I have developed a php file that contains all of the code necessary to make this work. You can either copy/paste its contents unchanged into your plugin&rsquo;s main .php file, or I recommend just adding this file to your plugin folder and require it in your code.</p>
<a href="https://github.com/gilluminate/WordPress-Auto-Updater/archive/master.zip" class="btn btn-primary ">Download gill-updates.php</a>
<p class="clear">You will also add some code to your plugin referencing the update check file discussed in step 1, and set a quick variable referencing your plugin.</p>
<p>To accomplish all of this, follow this example at the bottom of your plugin php:<br>
<code>//custom updates/upgrades<br>
$this_file = __FILE__;<br>
$update_check = "http://www.mycustomrepository.com/plugins/myplugin/myplugin.chk";<br>
require_once('gill-updates.php');</code></p>
<h5><strong>Step 3:</strong> Host your plugin .zip file in the location you specified above</h5>
<p>In our case, you would add the myplugin.zip file to the web host so that it will be accessible at the exact location specified in your update check file. For example:</p>
<p><code>http://www.mycustomrepository.com/plugins/myplugin-1.2.3.zip</code></p>
<h2>What now?</h2>
<p>Once you have completed the steps above you are set to allow your plugin to automatically check for updates of itself. All you need to do when you update your plugin, is edit the update file to a new version. Also, make sure the .zip file it points to contains your new version.For example:</p>
<p><code>2.0|http://www.mycustomrepository.com/plugins/myplugin-2.0.zip</code></p>
<p>That&rsquo;s it! The plugin will now compare it&rsquo;s current version (specified in the meta information of your plugin) to the version listed in the check file. If the check file number is greater than the number in your plugin, it will provide an &ldquo;update automatically&rdquo; link as though it were being hosted in the official repository, and when clicked it will update the plugin automatically with the file specified.</p>
<h2>Credit</h2>
<p>Ainun Nazieb who wrote a similar post on <a href="http://nazieb.com/797/how-to-make-your-own-plugins-themes-updating-service">How to Make Your Own Plugins/Themes Updating Service</a>. Ainun&rsquo;s post claims it will work for plugins, but there wasn&rsquo;t any specific information to support that claim. It was specifically related to Themes. This post certainly saved me a lot of work and started me on the right path, however.</p>
<p>The image used above was stolen from <a href="http://wp.smashingmagazine.com/2011/03/08/ten-things-every-wordpress-plugin-developer-should-know/">Smashingmagazine.com</a></p>
							
												
						</section> 
						
						<footer>
			
							<p class="tags"><span class="tags-title">Tags:</span> <a href="https://gilluminate.com/tag/php/" rel="tag">PHP</a> <a href="https://gilluminate.com/tag/plugins/" rel="tag">Plugins</a> <a href="https://gilluminate.com/tag/private/" rel="tag">private</a> <a href="https://gilluminate.com/tag/wordpress/" rel="tag">WordPress</a></p>							
														
						</footer> 
					
					</article> 
					
										
								
					
								
				</div> 
    
								<div id="sidebar1" class="fluid-sidebar sidebar span4" role="complementary">
				
					
						<div id="text-10" class="widget widget_text">			<div class="textwidget"></div>
		</div>
					
				</div>    
			</div> 

			<footer role="contentinfo">
			
				<div id="inner-footer" class="clearfix">
		          <hr>
		          <div id="widget-footer" class="clearfix row-fluid">
		            		            		            		            		            		            		          </div>
					
					<nav class="clearfix">
											</nav>
			
					<p class="attribution pull-right">&copy; Gilluminate</p>
				
				</div> 
				
			</footer> 
		
		</div> 
				
		
		
		<script type="text/javascript" src="https://gilluminate.com/wp-content/plugins/wp-syntax/js/wp-syntax.js?ver=1.1" id="wp-syntax-js-js"></script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/plugins/easy-fancybox/js/jquery.fancybox.min.js?ver=1.3.24" id="jquery-fancybox-js"></script>
<script type="text/javascript" id="jquery-fancybox-js-after">
var fb_timeout, fb_opts={'overlayShow':true,'hideOnOverlayClick':true,'showCloseButton':true,'margin':20,'centerOnScroll':true,'enableEscapeButton':true,'autoScale':true };
if(typeof easy_fancybox_handler==='undefined'){
var easy_fancybox_handler=function(){
jQuery('.nofancybox,a.wp-block-file__button,a.pin-it-button,a[href*="pinterest.com/pin/create"],a[href*="facebook.com/share"],a[href*="twitter.com/share"]').addClass('nolightbox');
/* IMG */
var fb_IMG_select='a[href*=".jpg"]:not(.nolightbox,li.nolightbox>a),area[href*=".jpg"]:not(.nolightbox),a[href*=".jpeg"]:not(.nolightbox,li.nolightbox>a),area[href*=".jpeg"]:not(.nolightbox),a[href*=".png"]:not(.nolightbox,li.nolightbox>a),area[href*=".png"]:not(.nolightbox),a[href*=".webp"]:not(.nolightbox,li.nolightbox>a),area[href*=".webp"]:not(.nolightbox)';
jQuery(fb_IMG_select).addClass('fancybox image');
var fb_IMG_sections=jQuery('.gallery,.wp-block-gallery,.tiled-gallery,.wp-block-jetpack-tiled-gallery');
fb_IMG_sections.each(function(){jQuery(this).find(fb_IMG_select).attr('rel','gallery-'+fb_IMG_sections.index(this));});
jQuery('a.fancybox,area.fancybox,li.fancybox a').each(function(){jQuery(this).fancybox(jQuery.extend({},fb_opts,{'transitionIn':'elastic','easingIn':'easeOutBack','transitionOut':'elastic','easingOut':'easeInBack','opacity':false,'hideOnContentClick':false,'titleShow':true,'titlePosition':'over','titleFromAlt':true,'showNavArrows':true,'enableKeyboardNav':true,'cyclic':false}))});};
jQuery('a.fancybox-close').on('click',function(e){e.preventDefault();jQuery.fancybox.close()});
};
var easy_fancybox_auto=function(){setTimeout(function(){jQuery('#fancybox-auto').trigger('click')},1000);};
jQuery(easy_fancybox_handler);jQuery(document).on('post-load',easy_fancybox_handler);
jQuery(easy_fancybox_auto);
</script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/plugins/easy-fancybox/js/jquery.easing.min.js?ver=1.4.1" id="jquery-easing-js"></script>
<script type="text/javascript" src="https://gilluminate.com/wp-content/plugins/easy-fancybox/js/jquery.mousewheel.min.js?ver=3.1.13" id="jquery-mousewheel-js"></script>

	</body>

</html>
